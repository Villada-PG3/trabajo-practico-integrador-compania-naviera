{% extends "base.html" %}

{% block content %}
  <div class="mb-8 overflow-hidden rounded-3xl border border-primary/30 shadow-lg">
    <div class="relative h-64 w-full">
      <img src="{{ display_image }}" alt="Vista de {{ puerto.nombre }}"
           class="h-full w-full object-cover" loading="lazy">
      <div class="absolute inset-0 bg-gradient-to-tr from-black/60 via-black/20 to-transparent"></div>
      <div class="absolute bottom-6 left-6 text-white drop-shadow-lg">
        <p class="text-sm uppercase tracking-[0.4em] text-white/75">Destino destacado</p>
        <h1 class="text-3xl font-bold">{{ puerto.nombre }}</h1>
      </div>
    </div>
  </div>
  <div class="flex flex-col md:flex-row gap-6">
    
    <!-- SecciÃ³n principal del puerto -->
    <div class="flex-1 space-y-6">
      <div>
        <h2 class="text-2xl font-bold mb-2">Detalles del Puerto: {{ puerto.nombre }}</h2>
        <p class="text-text/75 text-sm">ConocÃ© la informaciÃ³n clave para planificar tu visita.</p>
      </div>

      <div class="card-surface p-6 rounded-2xl shadow-lg">
        <p class="mb-2 text-text/85"><strong>ğŸ—ºï¸ Itinerario:</strong> {{ puerto.itinerario.categoria.nombre }}</p>
        <p class="text-text/75"><strong>ğŸ”¢ Orden:</strong> {{ puerto.orden }}</p>
      </div>

      {% if puerto.ubicaciones.all %}
        <div class="card-surface p-6 rounded-2xl shadow-lg">
          <h3 class="text-xl font-semibold mb-3">ğŸ“ Ubicaciones</h3>
          <ul class="space-y-2">
            {% for ubicacion in puerto.ubicaciones.all %}
              <li class="pl-4 border-l-2 border-primary text-text/80">{{ ubicacion.nombre }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      {% if puerto.actividades.all %}
        <div class="card-surface p-6 rounded-2xl shadow-lg">
          <h3 class="text-xl font-semibold mb-3">ğŸ‰ Actividades</h3>
          <ul class="space-y-2">
            {% for act in puerto.actividades.all %}
              <li class="pl-4 border-l-2 border-secondary text-text/80">{{ act.actividad.nombre }}</li>
            {% endfor %}
          </ul>
        </div>
      {% else %}
        <div class="card-surface p-6 rounded-2xl shadow-lg text-text/75">
          <p>No hay actividades disponibles en este puerto por el momento.</p>
        </div>
      {% endif %}

      <a href="{% url 'destinos' %}"
         class="inline-flex items-center gap-2 btn-secondary px-5 py-3 rounded-xl font-semibold">
        â† Volver a la lista de destinos
      </a>
    </div>

    <!-- PestaÃ±a de acciÃ³n -->
    <div class="w-full md:w-1/3">
      <div class="card-surface p-6 rounded-3xl shadow-lg sticky top-20 text-text">
        <h3 class="text-xl font-bold mb-2">Â¿Listo para explorar?</h3>
        <p class="mb-4 text-text/80">DescubrÃ­ cruceros que incluyen este puerto y reservÃ¡ tu aventura ideal.</p>
        <a href="{% url 'cruceros' %}"
           class="block text-center btn-primary font-semibold px-4 py-2 rounded-xl shadow transition hover:scale-[1.02]">
          ğŸŒŠ Ver cruceros disponibles
        </a>
      </div>
    </div>
  </div>
{% endblock %}
