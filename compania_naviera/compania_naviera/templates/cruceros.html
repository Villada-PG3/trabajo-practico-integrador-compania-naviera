{% extends "base.html" %}
{% block title %}Cruceros{% endblock %}
{% block content %}
<main class="max-w-6xl mx-auto px-4 md:px-6 py-10 space-y-10">

  <header>
    <h1 class="text-3xl font-extrabold">Cruceros</h1>
    <p class="text-white/70">Pr√≥ximos viajes y operativas.</p>
  </header>

  <section>
    <h2 class="text-2xl font-bold mb-4">Pr√≥ximos</h2>
    {% if futuros %}
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for fx in futuros %}
          <article class="bg-white/10 rounded-2xl overflow-hidden shadow">
            <div class="aspect-[16/9] bg-white/5 flex items-center justify-center text-5xl">üõ≥Ô∏è</div>
            <div class="p-5 space-y-2">
              <h3 class="font-semibold text-lg">{{ fx.viaje.nombre }}</h3>
              <p class="text-white/70">{{ fx.viaje.fecha_de_salida }} ‚Üí {{ fx.viaje.fecha_fin }}</p>
              <p class="text-white/80">Nav√≠o: {{ fx.navio.nombre|default:"(sin asignar)" }}</p>

              {% if fx.navio and fx.navio.pk %}
                <a href="{% url 'navio_detail' fx.navio.pk %}" class="inline-flex items-center gap-2 text-orange-300 hover:underline">
                  Ver nav√≠o <i class="fa fa-arrow-right text-xs"></i>
                </a>
              {% else %}
                <span class="text-white/50 text-sm">Sin nav√≠o asignado</span>
              {% endif %}
            </div>
          </article>
        {% endfor %}
      </div>
    {% else %}
      <p class="text-white/70">Sin pr√≥ximos viajes.</p>
    {% endif %}
  </section>

  <section>
    <h2 class="text-2xl font-bold mb-4">Hist√≥ricos</h2>
    {% if historicos %}
      <ul class="space-y-2">
        {% for hx in historicos %}
          <li class="bg-white/5 rounded-xl p-4 flex items-center justify-between">
            <span>{{ hx.viaje.nombre }} ‚Äî {{ hx.viaje.fecha_de_salida }} ‚Üí {{ hx.viaje.fecha_fin }} ({{ hx.navio.nombre|default:"(sin asignar)" }})</span>

            {% if hx.navio and hx.navio.pk %}
              <a href="{% url 'navio_detail' hx.navio.pk %}" class="text-orange-300 hover:underline">Ver nav√≠o</a>
            {% else %}
              <span class="text-white/50 text-sm">Sin nav√≠o asignado</span>
            {% endif %}
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-white/70">Sin hist√≥ricos a√∫n.</p>
    {% endif %}
  </section>

</main>
{% endblock %}
