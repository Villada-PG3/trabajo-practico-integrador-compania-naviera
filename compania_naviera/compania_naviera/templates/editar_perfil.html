{% extends "base.html" %}
{% block content %}
<div class="flex justify-center items-center min-h-[calc(100vh-120px)] px-4 py-12">
  <div class="card-surface relative overflow-hidden p-8 rounded-3xl shadow-lg max-w-md w-full space-y-6">
    <div class="text-center space-y-2">
      <span class="inline-flex h-12 w-12 items-center justify-center rounded-full bg-primary text-white text-xl font-bold shadow-[0_12px_30px_rgba(148,163,235,0.22)]">
        <i class="fa-solid fa-user-gear"></i>
      </span>
      <h1 class="text-3xl font-semibold">Editar perfil</h1>
      <p class="text-sm text-text/75">Actualiz√° tus datos para mantener tu experiencia personalizada.</p>
    </div>

    {% if messages %}
      <div class="mb-4 space-y-2">
        {% for message in messages %}
          <div class="p-3 rounded text-sm {% if message.tags == 'success' %}badge-accent{% elif message.tags == 'error' %}bg-secondary/20 border border-secondary/40 text-secondary-dark{% else %}bg-bg/40 border border-secondary/30{% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}

    <form method="POST">
      {% csrf_token %}
      {% for field in form %}
        <div class="space-y-1 mb-4">
          <label class="block text-sm font-medium text-text/90">{{ field.label }}</label>
          {{ field }}
          {% if field.errors %}
            <p class="text-secondary-dark text-xs mt-1">{{ field.errors|striptags }}</p>
          {% endif %}
        </div>
      {% endfor %}
      <button type="submit" class="w-full py-3 font-semibold rounded-xl btn-primary hover:scale-[1.01] focus:outline-none transition">
        Guardar cambios
      </button>
    </form>

    <div class="pointer-events-none absolute -top-14 right-6 h-32 w-32 rounded-full bg-secondary/10 blur-3xl"></div>
    <div class="pointer-events-none absolute -bottom-16 left-4 h-28 w-28 rounded-full bg-accent/20 blur-3xl"></div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    document.querySelectorAll('form input, form select').forEach((field) => {
      field.classList.add(
        'w-full','rounded-lg','border','border-primary/40','bg-white/80','px-4','py-3','text-text','placeholder-text/50','focus:outline-none','focus:ring-2','focus:ring-primary/60'
      );
    });
  });
</script>
{% endblock %}
